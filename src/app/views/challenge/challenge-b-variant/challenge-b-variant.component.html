<ng-container *ngIf="challengeState$ | async as state">

<!--  <button *ngIf="history.length" (click)="activateHistory()">activate history</button>-->

  <app-show-answer-overlay *ngIf="state.showAnswer" (click)="nextWord()">
  </app-show-answer-overlay>

  <div class="middle-container">
    <app-history-back-button *ngIf="history.length && historyCurrentWordIndex !== 0"
                             (click)="backInHistory()">
    </app-history-back-button>

    <app-history-forward-button *ngIf="showHistory"
                                (click)="forwardInHistory()">
    </app-history-forward-button>

    <app-v-b-middle-section
            [showHistory]="showHistory"
            [word]="showHistory ? historyCurrentWord : state.currentWord"
            [showAnswer]="showHistory ? true : state.showAnswer"
            [lastAnswerCorrect]="showHistory ? historyCurrentWord.answerCorrect : state.lastAnswerCorrect">
    </app-v-b-middle-section>
  </div>

  <app-v-b-bottom-section
          [class.hide]="showHistory"
          [currentWord]="state.currentWord"
          [roundWords]="state.currentWordAnswers"
          (action)="handleAnswer($event)">
  </app-v-b-bottom-section>

</ng-container>
